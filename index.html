<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AVA Warsztat Samochodowy</title>
  <meta name="description" content="AVA Warsztat â€“ naprawa samochodÃ³w, diagnostyka, mechanika. Zapraszamy!">
  <meta name="keywords" content="AVA, warsztat, samochodowy, auto, mechanik, serwis, avawarsztat">
  <meta name="author" content="AVA Warsztat">

  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #1d1d1d;
      color: #fff;
      overflow-x: hidden;
      text-align: center;
      scroll-behavior: smooth;
    }

    a { text-decoration: none; color: inherit; cursor: pointer; }

    header {
      padding: 40px 20px;
      position: relative;
      z-index: 1;
    }

    h1 { font-size: 36px; margin: 0; }
    p.subtitle { font-size: 18px; margin-top: 10px; }

    nav {
      position: sticky;
      top: 0;
      background-color: #111;
      padding: 10px 0;
      z-index: 999;
    }

    nav a {
      margin: 0 15px;
      color: #fff;
      font-weight: bold;
      transition: color 0.3s;
    }

    nav a:hover { color: #28a745; }

    .buttons {
      margin: 40px 0;
      z-index: 1;
    }

    .buttons a {
      display: inline-block;
      margin: 10px;
      padding: 15px 30px;
      background-color: #007bff;
      color: white !important;
      border-radius: 8px;
      font-size: 18px;
      transition: background-color 0.3s;
    }

    .buttons a:hover { background-color: #0056b3; }

    footer {
      margin-top: 60px;
      padding: 20px;
      font-size: 14px;
      background-color: #222;
      color: #ccc;
    }

    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 1s ease, transform 1s ease;
    }

    .reveal.active { opacity: 1; transform: translateY(0); }

    input, textarea, select {
      background-color: #333;
      color: #fff;
      border: 1px solid #777;
      padding: 8px;
      border-radius: 5px;
      width: 80%;
      max-width: 400px;
    }

    button {
      background-color: #007bff;
      color: white !important;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }

    button:hover { background-color: #0056b3; }

    #opinie-container div {
      border-bottom: 1px solid #444;
      margin-bottom: 20px;
      padding-bottom: 10px;
    }

    section { padding: 40px 20px; }

    .hidden-section { display: none; }

    img { max-width: 90%; height: auto; border-radius: 10px; }
  </style>
</head>

<body>
  <nav>
    <a data-target="o-nas">O nas</a>
    <a data-target="uslugi">UsÅ‚ugi</a>
    <a data-target="godziny">Godziny</a>
    <a data-target="opinie">Opinie</a>
    <a data-target="faq">FAQ</a>
    <a data-target="kontakt">Kontakt</a>
  </nav>

  <section class="reveal" id="top">
    <header>
      <h1>AVA Warsztat Samochodowy</h1>
      <p class="subtitle">Naprawy, Diagnostyka, Serwis â€” Zapraszamy!</p>
      <div style="margin-top: 20px;">
        <h2><i>Z pasji do aut</i></h2>
        <h3><i>ÅÄ…czy nas coÅ› wiÄ™cej niÅ¼ naprawa</i></h3>
      </div>
      <div style="margin-top:20px;">
        <img src="AVA STR.jpeg" alt="AVA Warsztat" style="cursor:pointer;" onclick="scrollToSection('top')">
      </div>
    </header>
  </section>

  <section class="reveal">
    <div class="buttons">
      <a href="tel:+48601749485" style="background-color: #28a745;">ğŸ“ ZadzwoÅ„ teraz</a>
      <a href="https://maps.google.com?q=warsztat+AVA" target="_blank">ğŸ“ Dojazd</a>
      <a href="mailto:ava.autosklep@gmail.com" style="background-color: #8bf9ff;">âœ‰ï¸ Napisz do nas</a>
      <a href="https://www.facebook.com/profile.php?id=100075824936537" target="_blank" style="background-color: #3b5998;">ğŸ“˜ Facebook</a>
    </div>
  </section>

  <section class="reveal" id="misja" style="background-color: #02060eb9;">
    <h2>Nasza Misja</h2>
    <p style="max-width: 700px; margin: 0 auto;">
      NaszÄ… misjÄ… jest dostarczanie niezawodnych i uczciwych usÅ‚ug motoryzacyjnych kaÅ¼demu klientowi.
      Z pasji do aut i perfekcji â€“ naprawiamy tak, jakby to byÅ‚o nasze wÅ‚asne auto.
    </p>
  </section>

  <section class="reveal" id="o-nas" style="max-width: 700px; margin: 2rem auto;">
    <h2>O nas</h2>
    <p>
      W AVA dbamy o TwÃ³j samochÃ³d tak, jak o wÅ‚asny. Nasza pasja do motoryzacji i doÅ›wiadczenie pozwalajÄ… nam oferowaÄ‡ usÅ‚ugi na najwyÅ¼szym poziomie.
      Zapraszamy do wspÃ³Å‚pracy kaÅ¼dego, kto ceni sobie profesjonalizm i rzetelnoÅ›Ä‡.
    </p>
  </section>

  <section class="reveal" id="uslugi" style="max-width: 700px; margin: 2rem auto;">
    <h2>Nasze usÅ‚ugi</h2>
    <ul style="list-style: none; padding: 0; text-align: left;">
      <li>ğŸ”§ Diagnostyka komputerowa</li>
      <li>ğŸ”© Wymiana oleju i filtrÃ³w</li>
      <li>ğŸš— Naprawy zawieszenia</li>
      <li>â„ï¸ Serwis klimatyzacji</li>
      <li>ğŸš¾ Wulkanizacja</li>
    </ul>
  </section>

  <section class="reveal" id="godziny" style="text-align: center; margin-top: 2rem;">
    <h2>ğŸ•’ Godziny otwarcia</h2>
    <p>PoniedziaÅ‚ek â€“ PiÄ…tek: <strong>8:00 â€“ 16:00</strong></p>
    <p>Sobota: <strong>Nieczynne</strong></p>
    <p>Niedziela: <strong>Nieczynne</strong></p>
    <p>ÅšwiÄ™ta: <strong>Nieczynne</strong></p>
    <p id="statusWarsztatu" style="font-weight: bold;"></p>
  </section>

  <section class="reveal" id="opinie" style="text-align: center; margin-top: 2rem;">
    <h2>Opinie klientÃ³w</h2>
    <button id="toggle-opinie">PokaÅ¼ opinie</button>
    <div id="opinie-container" style="display:none;"></div>
    <button id="showFormBtn">Dodaj opiniÄ™</button>
    <div id="opinionForm" style="display:none; margin-top:20px;">
      <form id="feedbackForm">
        <label>Twoje imiÄ™:<br>
          <input type="text" name="name" placeholder="np. Janek" />
        </label><br><br>
        <label>Ocena warsztatu:<br>
          <select name="rating" required>
            <option value="">Wybierz ocenÄ™</option>
            <option value="5">â­â­â­â­â­</option>
            <option value="4">â­â­â­â­</option>
            <option value="3">â­â­â­</option>
            <option value="2">â­â­</option>
            <option value="1">â­</option>
          </select>
        </label><br><br>
        <label>Komentarz:<br>
          <textarea name="comment" rows="4" placeholder="Opisz swojÄ… wizytÄ™..."></textarea>
        </label><br><br>
        <button type="submit">WyÅ›lij opiniÄ™</button>
        <button type="button" id="cancelFormBtn" style="background-color: #dc3545; margin-left: 10px;">Anuluj</button>
      </form>
    </div>
    <h3 id="srednia-ocena" style="margin-top: 20px;">Åšrednia ocena: â³</h3>
  </section>

  <!-- Ukryta sekcja FAQ, pokazuje siÄ™ po klikniÄ™ciu w menu -->
  <section class="reveal hidden-section" id="faq">
    <h2>â“ NajczÄ™Å›ciej zadawane pytania</h2>
    <details><summary>Jak mogÄ™ umÃ³wiÄ‡ siÄ™ na wizytÄ™?</summary><p>MoÅ¼esz zadzwoniÄ‡ do nas.</p></details>
    <details><summary>Czy oferujecie samochÃ³d zastÄ™pczy?</summary><p>Nie, nie mamy moÅ¼liwoÅ›Ä‡ udostÄ™pnienia auta zastÄ™pczego.</p></details>
    <details><summary>Jakie auta naprawiacie?</summary><p>Naprawiamy wszystkie marki samochodÃ³w osobowych i dostawczych oprÃ³cz elektrycznych.</p></details>
    <details><summary>Czy muszÄ™ siÄ™ wczeÅ›niej umawiaÄ‡?</summary><p>Tak, najlepiej zadzwoniÄ‡ lub napisaÄ‡. W nagÅ‚ych przypadkach sprÃ³bujemy pomÃ³c od rÄ™ki.</p></details>
    <button onclick="closeHiddenSection('faq')">PowrÃ³t</button>
  </section>

  <!-- Ukryta sekcja Kontakt -->
  <section class="reveal hidden-section" id="kontakt">
    <h2>Kontakt</h2>
    <p>ğŸ“ Telefon: +48 601 749 485</p>
    <p>âœ‰ï¸ E-mail: ava.autosklep@gmail.com</p>
    <p>ğŸ“ Adres: ul. PrzykÅ‚adowa 1, 00-001 Warszawa</p>
    <button onclick="closeHiddenSection('kontakt')">PowrÃ³t</button>
  </section>

  <footer class="reveal">
    <p>Â© AVA Warsztat Samochodowy</p>
  </footer>

  <script>
    // Smooth scroll + reveal
    function scrollToSection(id) {
      document.querySelectorAll('.hidden-section').forEach(el => el.style.display = 'none');
      const sec = document.getElementById(id);
      if (sec.classList.contains('hidden-section')) {
        sec.style.display = 'block';
      }
      sec.scrollIntoView({behavior: 'smooth'});
      sec.classList.add('active');
    }

    function closeHiddenSection(id) {
      const sec = document.getElementById(id);
      sec.style.display = 'none';
      document.getElementById('top').scrollIntoView({behavior:'smooth'});
    }

    document.querySelectorAll('nav a').forEach(a => {
      a.addEventListener('click', () => {
        const target = a.getAttribute('data-target');
        scrollToSection(target);
      });
    });

    function revealOnScroll() {
      document.querySelectorAll('.reveal').forEach(elem => {
        const top = elem.getBoundingClientRect().top;
        if (top < window.innerHeight - 100) elem.classList.add("active");
      });
    }

    window.addEventListener("scroll", revealOnScroll);
    window.addEventListener("DOMContentLoaded", () => {
      revealOnScroll();
      sprawdzGodzine();
    });

    // Licznik lat
    const startYear = 1996;
    document.getElementById("years-count")?.textContent = new Date().getFullYear() - startYear;

    // Godziny otwarcia
    function sprawdzGodzine() {
      const teraz = new Date();
      const dzienTygodnia = teraz.getDay();
      const godzina = teraz.getHours();
      const data = `${(teraz.getMonth() + 1).toString().padStart(2, '0')}-${teraz.getDate().toString().padStart(2, '0')}`;
      const status = document.getElementById('statusWarsztatu');
      const swieta = ['01-01','01-06','05-01','05-03','08-15','11-01','11-11','12-25','12-26'];

      if (!status) return;
      if (swieta.includes(data)) {
        status.textContent = "ğŸ‰ DziÅ› Å›wiÄ™to â€“ warsztat nieczynny.";
        status.style.color = "orange";
      } else if ([1,2,3,4,5].includes(dzienTygodnia) && godzina >= 8 && godzina < 16) {
        status.textContent = "ğŸ”§ Otwarte â€“ zapraszamy!";
        status.style.color = "green";
      } else {
        status.textContent = "âŒ ZamkniÄ™te â€“ zapraszamy w godzinach 8:00â€“16:00 (pnâ€“pt)";
        status.style.color = "red";
      }
    }

    // Opinie
    document.getElementById('showFormBtn')?.addEventListener('click', function () {
      document.getElementById('opinionForm').style.display = 'block';
      this.style.display = 'none';
    });

    document.getElementById('cancelFormBtn')?.addEventListener('click', function () {
      document.getElementById('opinionForm').style.display = 'none';
      document.getElementById('showFormBtn').style.display = 'inline-block';
      document.getElementById('feedbackForm').reset();
    });

    document.getElementById('toggle-opinie')?.addEventListener('click', function () {
      const lista = document.getElementById('opinie-container');
      if (lista.style.display === "none") {
        lista.style.display = "block";
        this.textContent = "Ukryj opinie";
        loadOpinie();
      } else {
        lista.style.display = "none";
        this.textContent = "PokaÅ¼ opinie";
      }
    });

    async function loadOpinie() {
      const container = document.getElementById('opinie-container');
      const sredniaElement = document.getElementById('srednia-ocena');
      container.innerHTML = 'Åadowanie opinii...';
      sredniaElement.textContent = 'Åšrednia ocena: â³';
      try {
        const res = await fetch('https://sheetdb.io/api/v1/kr749eomw8d09');
        const data = await res.json();
        if (!data.length) { container.innerHTML = 'Brak opinii.'; sredniaElement.textContent='Brak ocen.'; return; }
        let suma=0, liczbaOcen=0;
        container.innerHTML = '';
        data.reverse().forEach(entry => {
          const rating = parseInt(entry.rating||0);
          const comment = entry.comment||'';
          const name = entry.name||'Anonimowy klient';
          if(rating>0){suma+=rating;liczbaOcen++;}
          const div = document.createElement('div');
          div.innerHTML=`<p>"${comment}"</p><p>${'â­'.repeat(rating)}</p><p>â€“ ${name}</p><hr>`;
          container.appendChild(div);
        });
        const srednia=(suma/liczbaOcen).toFixed(1);
        sredniaElement.textContent=`Åšrednia ocena: â­ ${srednia}/5`;
      } catch { container.innerHTML='BÅ‚Ä…d Å‚adowania opinii.'; sredniaElement.textContent='BÅ‚Ä…d odczytu Å›redniej oceny.';}
    }

    // Formularz opinie z weryfikacjÄ… e-mail
    document.getElementById('feedbackForm')?.addEventListener('submit', async function(e){
      e.preventDefault();
      const ostatnia = localStorage.getItem('ostatniaOpinia');
      if (ostatnia && (Date.now()-parseInt(ostatnia))<24*60*60*1000) { alert('MoÅ¼esz dodaÄ‡ nowÄ… opiniÄ™ dopiero po 24 godzinach.'); return; }
      const email = prompt('Podaj swÃ³j adres e-mail:');
      if(!email || !/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(email)) { alert('Niepoprawny adres e-mail!'); return; }
      const kod = Math.floor(100000+Math.random()*900000);
       alert(`Kod weryfikacyjny: ${kod}\n(Udawana wysyÅ‚ka â€“ w przyszÅ‚oÅ›ci moÅ¼na dodaÄ‡ prawdziwÄ…)`);
      const wpisanyKod = prompt('Wpisz otrzymany kod:');
      if (parseInt(wpisanyKod) !== kod) {
        alert('BÅ‚Ä™dny kod weryfikacyjny!');
        return;
      }
      const formData = new FormData(this);
      const name = formData.get('name') || 'Anonimowy klient';
      const rating = formData.get('rating');
      const comment = formData.get('comment') || '';
      const payload = { data: { name, rating, comment, email } };
      try {
        const res = await fetch('https://sheetdb.io/api/v1/kr749eomw8d09', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        });
        if (res.ok) {
          alert('âœ… DziÄ™kujemy za opiniÄ™!');
          localStorage.setItem('ostatniaOpinia', Date.now());
          this.reset();
          document.getElementById('opinionForm').style.display = 'none';
          document.getElementById('showFormBtn').style.display = 'inline-block';
          loadOpinie();
        } else {
          alert('âŒ WystÄ…piÅ‚ bÅ‚Ä…d. SprÃ³buj ponownie pÃ³Åºniej.');
        }
      } catch {
        alert('BÅ‚Ä…d sieci. SprawdÅº poÅ‚Ä…czenie z internetem.');
      }
    });
  </script>
</body>
</html>